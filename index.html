<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
ã€€<link rel="icon" href="icon.png">
ã€€<link rel="apple-touch-icon" href="icon.png">

    <title>é‚„ä»˜é‡‘è©æ¬ºä½“é¨“ã‚²ãƒ¼ãƒ </title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2em; background: #f9f9f9; font-size: 4vw;}
    button { margin: 1em; padding: 1em 2em; font-size: 4.5vw; }
    button {
  display: block;
  width: 80%;
  margin: 1em auto;
}
    #story, #nextBtn, #warning { display: none; margin-top: 2em; }
    #warning { color: red; font-weight: bold; }
    body.alert {
  background-color: #ffdddd;
  color: #660000;
  transition: background-color 0.5s, color 0.5s;
}
 </style>
</head>
<body>
  <audio id="ringtone" src="ringtone.mp3" loop></audio>
  <h1>ğŸ“ è©æ¬ºé›»è©±ä½“é¨“ã‚²ãƒ¼ãƒ ï¼šé‚„ä»˜é‡‘ç·¨</h1>
 
 <button id="startButton" onclick="playRingtone()">ğŸ”” ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã™ã‚‹ï¼ˆé›»è©±ãŒé³´ã‚Šã¾ã™ï¼‰</button>

 <p id="callMessage" style="display: none;">é›»è©±ãŒã‹ã‹ã£ã¦ãã¾ã—ãŸã€‚ã©ã†ã—ã¾ã™ã‹ï¼Ÿ</p>
 
<div id="choices" style="display: none;">
  <button onclick="stopRingtone(); startScam()">â‘  è©±ã‚’èã</button>
  <button onclick="stopRingtone(); showSafe()">â‘¡ é›»è©±ã‚’åˆ‡ã‚‹</button>
  <button onclick="stopRingtone(); showSafe()">â‘¢ å®¶æ—ã«ç›¸è«‡ã™ã‚‹</button>
</div>

  <div id="story">
    <p id="line"></p>
    <button id="nextBtn" onclick="nextLine()">â–¶ æ¬¡ã¸</button>
  </div>

  <p id="warning"></p>

  <script>
   function playRingtone() {
  const ringtone = document.getElementById("ringtone");
  ringtone.play().catch((e) => {
    console.log("éŸ³å£°ã®å†ç”ŸãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ:", e);
  });

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨é¸æŠè‚¢ã‚’è¡¨ç¤º
  document.getElementById("callMessage").style.display = "block";
  document.getElementById("choices").style.display = "block";

    // ã€Œã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«
 document.getElementById("startButton").style.display = "none";
}
 
    const lines = [
  { display: "ã“ã¡ã‚‰ã€æ „åŒºå½¹æ‰€ã®ä¿é™ºèª²ã§ã™ã€‚", speak: "ã“ã¡ã‚‰ã€ã•ã‹ãˆåŒºå½¹æ‰€ã®ä¿é™ºèª²ã§ã™ã€‚" },
  { display: "æ˜¨å¹´ã®åŒ»ç™‚è²»ã®ä¸€éƒ¨ãŒé‚„ä»˜å¯¾è±¡ã«ãªã£ã¦ãŠã‚Šã¾ã—ã¦ã€3ä¸‡2åƒå††ã»ã©æˆ»ã‚‹äºˆå®šã§ã™ã€‚", speak: "æ˜¨å¹´ã®åŒ»ç™‚è²»ã®ä¸€éƒ¨ãŒé‚„ä»˜å¯¾è±¡ã«ãªã£ã¦ãŠã‚Šã¾ã—ã¦ã€3ä¸‡2åƒå††ã»ã©æˆ»ã‚‹äºˆå®šã§ã™ã€‚" },
  { display: "ä»Šæ—¥ä¸­ã«æ‰‹ç¶šãã™ã‚Œã°ã€ã™ãã«æŒ¯ã‚Šè¾¼ã¾ã‚Œã¾ã™ã€‚", speak: "ãã‚‡ã†ã˜ã‚…ã†ã«æ‰‹ç¶šãã™ã‚Œã°ã€ã™ãã«æŒ¯ã‚Šè¾¼ã¾ã‚Œã¾ã™ã€‚" },
  { display: "ãŠè¿‘ãã®ATMã«è¡Œã£ã¦ã„ãŸã ã‘ã‚Œã°ã€è·å“¡ãŒé›»è©±ã§æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚", speak: "ãŠè¿‘ãã®ATMã«è¡Œã£ã¦ã„ãŸã ã‘ã‚Œã°ã€è·å“¡ãŒé›»è©±ã§æ“ä½œã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚" },
  { display: "ATMã®â€œæŒ¯è¾¼â€ã‚’æŠ¼ã—ã¦â€¦ãã®ã¾ã¾é€²ã‚“ã§ãã ã•ã„ã€‚", speak: "ATMã®æŒ¯è¾¼ã‚’æŠ¼ã—ã¦ã€ãã®ã¾ã¾é€²ã‚“ã§ãã ã•ã„ã€‚" },
  { display: "ğŸ›‘ ã“ã‚Œã¯è©æ¬ºã§ã™ï¼åŒºå½¹æ‰€ãŒATMã§ã®æ‰‹ç¶šãã‚’æ±‚ã‚ã‚‹ã“ã¨ã¯çµ¶å¯¾ã«ã‚ã‚Šã¾ã›ã‚“ã€‚", speak: "ã“ã‚Œã¯è©æ¬ºã§ã™ã€‚åŒºå½¹æ‰€ãŒATMã§ã®æ‰‹ç¶šãã‚’æ±‚ã‚ã‚‹ã“ã¨ã¯çµ¶å¯¾ã«ã‚ã‚Šã¾ã›ã‚“ã€‚" },
  { display: "âœ… ä¸å¯©ãªé›»è©±ãŒæ¥ãŸã‚‰ã€ã„ã£ãŸã‚“åˆ‡ã£ã¦ã€åŒºå½¹æ‰€ã‚„å®¶æ—ã«ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚", speak: "ä¸å¯©ãªé›»è©±ãŒæ¥ãŸã‚‰ã€ã„ã£ãŸã‚“åˆ‡ã£ã¦ã€åŒºå½¹æ‰€ã‚„å®¶æ—ã«ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚" }
];

    let currentLine = 0;

    function speak(text) {
      const uttr = new SpeechSynthesisUtterance(text);
      uttr.lang = "ja-JP";
      speechSynthesis.speak(uttr);
    }

function stopRingtone() {
  const ringtone = document.getElementById("ringtone");
  ringtone.pause();
  ringtone.currentTime = 0;
}

   function startScam() {
  currentLine = 0;
  document.getElementById("warning").textContent = "";
  document.getElementById("warning").style.display = "none";
  document.body.classList.remove("alert");

   document.getElementById("story").style.display = "block";
  document.getElementById("line").textContent = lines[currentLine].display;
  speak(lines[currentLine].speak);
  document.getElementById("nextBtn").style.display = "inline-block";
}

   function nextLine() {
  currentLine++;
  if (currentLine < lines.length) {
    document.getElementById("line").textContent = lines[currentLine].display;
    speak(lines[currentLine].speak);
    if (currentLine === 5) {
      document.getElementById("warning").textContent = "âš ï¸ ã‚ãªãŸã®ãŠé‡‘ãŒçŠ¯äººã®å£åº§ã«æŒ¯ã‚Šè¾¼ã¾ã‚Œã¦ã—ã¾ã†å±é™ºãŒã‚ã‚Šã¾ã™ï¼";
     document.getElementById("warning").style.display = "block";
     document.body.classList.add("alert");
    }
  } else {
    document.getElementById("nextBtn").style.display = "none";
ã€€ã€€document.getElementById("restartBtn").style.display = "block"; // â† è¿½åŠ ï¼ã€€ã€€
  }
}

    function showSafe() {
  document.getElementById("story").style.display = "block";
  document.getElementById("line").textContent = "å†·é™ãªåˆ¤æ–­ã§ã™ï¼è©æ¬ºè¢«å®³ã‚’é˜²ãã¾ã—ãŸã€‚";
  speak("å†·é™ãªåˆ¤æ–­ã§ã™ï¼è©æ¬ºè¢«å®³ã‚’é˜²ãã¾ã—ãŸã€‚");

  // ã€Œæ¬¡ã¸ã€ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹
  document.getElementById("nextBtn").style.display = "none";
ã€€document.getElementById("restartBtn").style.display = "block"; // â† è¿½åŠ ï¼
}

ã€€ã€€function restartGame() {
  // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
  currentLine = 0;
  document.getElementById("line").textContent = "";
  document.getElementById("story").style.display = "none";
  document.getElementById("warning").textContent = "";
  document.getElementById("warning").style.display = "none";
  document.body.classList.remove("alert");

  // é¸æŠè‚¢ã¨å†ç”Ÿãƒœã‚¿ãƒ³ã‚’å†è¡¨ç¤º
  document.getElementById("callMessage").style.display = "none";
  document.getElementById("choices").style.display = "none";
  document.getElementById("startButton").style.display = "block";
  document.getElementById("restartBtn").style.display = "none";
}
  </script>

ã€€<button id="restartBtn" style="display: none;" onclick="restartGame()">ğŸ” ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ãƒ¼ã™ã‚‹</button>
</body>
</html>
